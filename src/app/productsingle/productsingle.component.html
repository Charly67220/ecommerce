<section class="page-header">
  <div class="overly"></div>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-6">
        <div class="content text-center" *ngIf="produit$ | async as produit">
          <h1 class="mb-3">{{ titre }}</h1>
          <p>{{ presentation }}</p>
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb bg-transparent justify-content-center">
              <li class="breadcrumb-item"><a routerLink="/shop">Retour au shop</a></li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="single-product">
  <div class="container">
    <div class="row">
      <div class="col-md-5">
        <div class="single-product-slider">
          <div class="carousel slide" data-ride="carousel" id="single-product-slider">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img [src]="imageURL" [alt]="titre" class="img-fluid">
              </div>
              <div class="carousel-item">
                <img src="assets/images/product-2.jpg" alt="" class="img-fluid">
              </div>
              <div class="carousel-item ">
                <img src="assets/images/product-1.jpg" alt="" class="img-fluid">
              </div>
            </div>

            <!-- <ol class="carousel-indicators">
              <li data-target="#single-product-slider" data-slide-to="0" class="active">
                <img src="assets/images/product-3.jpg" alt="" class="img-fluid">
              </li>
              <li data-target="#single-product-slider" data-slide-to="1">
                <img src="assets/images/product-2.jpg" alt="" class="img-fluid">
              </li>
              <li data-target="#single-product-slider" data-slide-to="2">
                <img src="assets/images/product-1.jpg" alt="" class="img-fluid">
              </li>
            </ol> -->
          </div>
        </div>
      </div>

      <div class="col-md-7">
        <div class="single-product-details mt-5 mt-lg-0">
          <!-- <h2>Eclipse Crossbody</h2> -->
          <div class="sku_wrapper mb-4">
            Réf: <span class="text-muted"> {{ ref }} </span>
          </div>

          <hr>

          <h3 class="product-price">{{ prixap | number }} € &ensp;<del>{{ prixav | number }} €</del></h3>

          <p class="product-description my-4 ">
            {{ description }}
          </p>

          <form class="cart" action="#" method="post">
            <div class="quantity d-flex align-items-center">
              <!-- <input type="number" id="#" class="input-text qty text form-control w-25 mr-3" step="1" min="1" max="9"
                name="quantity" value="1" title="Qty" size="4"> -->
              <a (click)="addProductToCart(produit)" class="btn btn-main btn-small">Ajouter au panier</a>
            </div>
          </form>


          <!-- <div class="color-swatches mt-4 d-flex align-items-center">
            <span class="font-weight-bold text-capitalize product-meta-title">color:</span>
            <ul class="list-inline mb-0">
              <li class="list-inline-item">
                <a routerLink="/product-single" class="bg-info"></a>
              </li>
              <li class="list-inline-item">
                <a routerLink="/product-single" class="bg-dark"></a>
              </li>
              <li class="list-inline-item">
                <a routerLink="/product-single" class="bg-danger"></a>
              </li>
            </ul>
          </div> -->

          <!-- <div class="product-size d-flex align-items-center mt-4">
            <span class="font-weight-bold text-capitalize product-meta-title">Size:</span>
            <select class="form-control">
              <option>S</option>
              <option>M</option>
              <option>L</option>
              <option>XL</option>
            </select>
          </div> -->

          <div class="products-meta mt-4">
            <!-- <div class="product-category d-flex align-items-center">
              <span class="font-weight-bold text-capitalize product-meta-title">Catégorie :</span>
              <a href=""> {{ categorie }}</a>
            </div> -->

            <!-- <div class="product-share mt-5">
              <ul class="list-inline">
                <li class="list-inline-item">
                  <a href="#"><i class="tf-ion-social-facebook"></i></a>
                </li>
                <li class="list-inline-item">
                  <a href="#"><i class="tf-ion-social-twitter"></i></a>
                </li>
                <li class="list-inline-item">
                  <a href="#"><i class="tf-ion-social-linkedin"></i></a>
                </li>
                <li class="list-inline-item">
                  <a href="#"><i class="tf-ion-social-pinterest"></i></a>
                </li>
              </ul>
            </div> -->
          </div>
        </div>
      </div>
    </div>


    <div class="row">
      <div class="col-lg-12">
        <nav class="product-info-tabs wc-tabs mt-5 mb-5">
          <div class="nav nav-tabs nav-fill" id="nav-tab" role="tablist">
            <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab"
              aria-controls="nav-home" aria-selected="true">Description</a>
            <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab"
              aria-controls="nav-profile" aria-selected="false">Additional Information</a>
            <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab"
              aria-controls="nav-contact" aria-selected="false">Reviews(2)</a>
          </div>
        </nav>

        <div class="tab-content" id="nav-tabContent">
          <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
            <p>{{ info }}</p>

            <!-- <h4>Product Features</h4>

            <ul class="">
              <li>Mapped with 3M™ Thinsulate™ Insulation [40G Body / Sleeves / Hood]</li>
              <li>Embossed Taffeta Lining</li>
              <li>DRYRIDE Durashell™ 2-Layer Oxford Fabric [10,000MM, 5,000G]</li>
            </ul> -->

          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<section class="products related-products section">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-6">
        <div class="title text-center">
          <h2>Vous pourriez aimer</h2>
          <p>Produits fréquemment achetés ensemble</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-4 col-12 col-md-6 col-sm-6 mb-5" *ngFor="let produit of produits$ | async ">
        <div class="product">
          <div class="product-wrap">
            <a (click)="stockRecentItem(produit)" style="cursor:pointer"><img class="img-fluid w-100 mb-3 img-first"
                [src]="produit.imageURL" [alt]="produit.titre" /></a>
          </div>
          <div class="product-hover-overlay">
            <a (click)="addProductToCart(produit)" style="color: white;"><i class="tf-ion-android-cart"></i></a>
            <a (click)="stockWishes(produit)"  style="color: white;"><i class="tf-ion-ios-heart"></i></a>
          </div>

          <div class="product-info">
            <h2 class="product-title h5 mb-0"><a (click)="stockRecentItem(produit)">{{ produit.titre }}</a></h2>
            <span class="price">
              {{ produit.prixap | number }} €
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>